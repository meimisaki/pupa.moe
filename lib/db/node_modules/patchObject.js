'use strict';

var each = require('../../each');

var reserved = require('reserved');

function patchObject(key, id, obj, callback) {
	var client = this._;
	var args = [key + ':' + id];
	each(obj, function (val, key) {
		if (!reserved[key]) args.push(key, val);
	});
	args.push(callback);
	client.hmset.apply(client, args);
}

module.exports = patchObject;
