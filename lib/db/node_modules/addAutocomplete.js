'use strict';

var each = require('../../each');

function addAutocomplete(tags, callback) {
	var client = this._;
	var args = ['autocomplete'];
	each(tags, function (tag) {
		tag = tag.trim();
		for (var key = 1 ; key < tag.length ; ++key) {
			args.push(0, tag.slice(0, key));
		}
		args.push(0, tag + '\n');
	});
	args.push(callback);
	client.zadd.apply(client, args);
}

module.exports = addAutocomplete;
