'use strict';

function randomID(key, callback) {
	var client = this._;
	client.zcard(key + '-list', function (err, count) {
		if (err) return callback(err);
		var rank = Math.floor(Math.random() * count);
		client.zrange(key + '-list', rank, rank, function (err, arr) {
			if (err) return callback(err);
			callback(null, arr[0]);
		});
	});
}

module.exports = randomID;
